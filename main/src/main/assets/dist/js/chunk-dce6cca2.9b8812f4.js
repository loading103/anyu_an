(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dce6cca2"],{3900:function(t,e,s){"use strict";s.d(e,"a",(function(){return i})),s.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"fixed"},[s("div",{staticClass:"follow"},[t._m(0),s("div",{staticClass:"cut-down"},[t._v(t._s(t.play_group_info.name)+" 距离"),s("i",[t._v(t._s(t._f("lotteryNumber")(t.openTime2.number,4)))]),t._v("期 "),s("span",[t._v("封盘: "),s("i",[t._v(t._s(t._f("CountDown")(t.leftTime)))])])]),s("div",{staticClass:"list"},[s("ul",t._l(t.betForm.sscBetList,(function(e,i){return s("li",{key:i},[s("h2",[s("b",[t._v(t._s(e.content))]),s("span",{staticClass:"del",on:{click:function(e){return t.deleteZhu(i)}}})]),s("div",{staticClass:"info"},[s("div",{staticClass:"fl"},[t._v("期号："+t._s(e.number))]),s("div",{staticClass:"fr"},[s("span",[s("i",[t._v(t._s(e.zhushu))]),t._v("注"),s("i",[t._v(t._s(e.beishu))]),t._v("倍")]),s("b",[t._v(t._s(e.perMoney)+".00 x "+t._s(t.beishu))])])])])})),0)]),s("div",{staticClass:"beishu-select"},[s("span",{class:{active:1==t.beishu},on:{click:function(e){return t.setbeishu(1)}}},[t._v("1倍")]),s("span",{class:{active:2==t.beishu},on:{click:function(e){return t.setbeishu(2)}}},[t._v("2倍")]),s("span",{class:{active:5==t.beishu},on:{click:function(e){return t.setbeishu(5)}}},[t._v("5倍")]),s("span",{class:{active:10==t.beishu},on:{click:function(e){return t.setbeishu(10)}}},[t._v("10倍")]),s("span",{class:{active:20==t.beishu},on:{click:function(e){return t.setbeishu(20)}}},[t._v("20倍")])]),s("div",{staticClass:"confirom"},[s("div",{staticClass:"fl"},[s("h3",[s("i",[t._v(t._s(t.betForm.sscBetList.length))]),t._v("注 "),s("span",[t._v("共"),s("i",[t._v(t._s(t.totalMoney))]),t._v("元")])]),s("p",[s("i",[t._v(t._s(t.UserBaseInfo.balance||"0.00"))]),t._v("元")])]),s("div",{staticClass:"fr"},[s("button",{on:{click:t.betForm1}},[t._v("确认投注")])])])])])])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("h2",[t._v("确认投注")])])}]},"7f58":function(t,e,s){"use strict";s.r(e);var i=s("d794"),n=s.n(i);for(var o in i)"default"!==o&&function(t){s.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"9bf1":function(t,e,s){"use strict";s.r(e);var i=s("3900"),n=s("7f58");for(var o in n)"default"!==o&&function(t){s.d(e,t,(function(){return n[t]}))}(o);var a=s("2877"),c=Object(a["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=c.exports},d794:function(t,e,s){var i=s("4ea4");s("a4d3"),s("e01a"),s("99af"),s("4160"),s("a434"),s("b0c0"),s("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(s("5530")),o=s("2f62"),a=s("d194"),c={data:function(){return{betForm:{sscBetList:[]},config:{uid:"",token:""},robot:"",beishu:1,playGroupId:!1,leftTime:0}},created:function(){var t=this.$route.query,e=t.uid,s=t.token,i=t.robot;this.config.uid=e,this.config.token=s,this.robot=i,this.betForm=this.decode(t.data),console.log(this.betForm),this.playGroupId=this.betForm.sscBetList[0].playGroupId,this.beishu=this.betForm.lianxuBeishu,this.getUserBaseInfo(),this.getSscPlayGroup(),this.getSscOpenTime2()},computed:(0,n.default)({},(0,o.mapState)("Game",{play_group_info:function(t){return t[a.GAME_GET_SSC_PLAY_GROUP]},openTime2:function(t){return t[a.GAME_GET_SSC_OPEN_TIME2]},UserBaseInfo:function(t){return t[a.GAME_GET_USER_BASE_INFO]},sscBetListData:function(t){return t.sscBetList}}),{totalMoney:function(){var t=this,e=0;return this.betForm.sscBetList.forEach((function(s){e+=s.perMoney*t.beishu})),e}}),mounted:function(){this.mui(".follow .list").scroll({deceleration:5e-4,indicators:!1})},methods:{setbeishu:function(t){this.beishu=t},deleteZhu:function(t){this.betForm.sscBetList.length>1?this.betForm.sscBetList.splice(t,1):this.$toast("至少保留一条投注")},decode:function(t){var e=atob(t),s=decodeURI(e);return JSON.parse(s)},betForm1:function(){var t=this;this.$toast.loading({duration:0,forbidClick:!0,message:"投注中..."});var e=this.betForm.sscBetList,s=0;e.forEach((function(e){s+=parseFloat(e.totalMoney)*t.beishu}));var i={totalZhushu:e.length,totalMoney:s,lianxuBeishu:this.beishu+"",lianxuQishu:"1",sscBetList:e},o=(0,n.default)({betForm:JSON.stringify(i)},this.config);console.log(o,s),this.$store.dispatch("Game/".concat(a.GAME_GET_BET2),o).then((function(e){t.$toast.clear(),1==e.result?(t.sucCall(i,s),t.getUserBaseInfo(),t.$toast(e.description)):t.$toast(e.description)}))},encode:function(t){var e=encodeURI(t),s=btoa(e);return s},sucCall:function(t,e){var s=this.encode(JSON.stringify(t)),i='{"goodsName":"'.concat(this.play_group_info.name,"跟投了").concat(e,'元","goodsUrl":"/follow?data=').concat(s,'","outhParam":"abc=123&bde=465",\n            "goodsId":"').concat(this.playGroupId,'","activeId":"').concat(this.openTime2.number,'"}');this.env.app?(this.env.isAndroid&&window.android.showMsgButton(i),this.env.isIOS&&window.webkit.messageHandlers.showMsgButton.postMessage(i)):console.log("非APP")},cutDown:function(){var t=this;clearInterval(e),this.leftTime=this.openTime2.leftTime;var e=setInterval((function(){t.leftTime=t.leftTime-1,t.leftTime<=0&&(clearInterval(e),setTimeout((function(){t.getSscOpenTime2()}),3e3))}),1e3)},getUserBaseInfo:function(){var t=this.config,e=t.uid,s=t.token,i={uid:e,token:s};this.$store.dispatch("Game/".concat(a.GAME_GET_USER_BASE_INFO),i)},getSscPlayGroup:function(){var t={playGroupId:this.playGroupId};this.$store.dispatch("Game/".concat(a.GAME_GET_SSC_PLAY_GROUP),t)},getSscOpenTime2:function(){var t=this,e={playGroupId:this.playGroupId};this.$store.dispatch("Game/".concat(a.GAME_GET_SSC_OPEN_TIME2),e).then((function(e){e.leftTime>0?(console.log("开始倒计时"),t.cutDown(),"true"==t.robot?console.log("机器投注"):t.betForm.sscBetList.forEach((function(t){t.number=e.number}))):console.log("正在封盘")}))}}};e.default=c}}]);
//# sourceMappingURL=chunk-dce6cca2.9b8812f4.js.map